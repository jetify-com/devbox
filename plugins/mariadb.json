{
  "name": "mariadb",
  "version": "0.0.1",
  "readme": "* This package creates shims and stores them in .devbox/virtenv/mariadb/bin\n* Use mysql_install_db to initialize data directory\n* Use mysqld to start the server",
  "env": {
    "MYSQL_BASEDIR": "{{ .DevboxProfileDefault }}",
    "MYSQL_HOME": "{{ .Virtenv }}/run",
    "MYSQL_DATADIR": "{{ .Virtenv }}/data",
    "MYSQL_UNIX_PORT": "{{ .Virtenv }}/run/mysql.sock",
    "MYSQL_PID_FILE": "{{ .Virtenv }}/run/mysql.pid"
  },
  "create_files": {
    "{{ .Virtenv }}/run": "",
    "{{ .Virtenv }}/flake.nix": "mariadb/flake.nix",
    "{{ .Virtenv }}/setup_db.sh": "mariadb/setup_db.sh",
    "{{ .Virtenv }}/process-compose.yaml": "mariadb/process-compose.yaml"
  },
  "packages": [
    "path:{{ .Virtenv }}"
  ],
  "shell": {
    "init_hook": [
      "bash {{ .Virtenv }}/setup_db.sh"
    ]
  }
}
